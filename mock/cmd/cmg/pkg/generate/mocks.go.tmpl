// Code generated by Clue Mock Generator {{ .ToolVersion }}, DO NOT EDIT.
//
// Command:
// {{ .ToolCommandLine }}

package {{ .PkgName }}

import (
{{- range .StdImports }}
	{{ if .Alias }}{{ .Alias }} {{ end }}"{{ .PkgPath }}"
{{- end }}
{{- if and (gt (len .StdImports) 0) (or (gt (len .ExtImports) 0) (gt (len .IntImports) 0)) }}
{{ end }}
{{- range .ExtImports }}
	{{ if .Alias }}{{ .Alias }} {{ end }}"{{ .PkgPath }}"
{{- end }}
{{- if and (gt (len .ExtImports) 0) (gt (len .IntImports) 0) }}
{{ end }}
{{- range .IntImports }}
	{{ if .Alias }}{{ .Alias }} {{ end }}"{{ .PkgPath }}"
{{- end }}
)

{{ $testify := .Testify -}}
type (
{{- range $index, $interface := .Interfaces }}
{{- if ge $index 1 }}
{{ end }}
	{{ .Name }}{{ .TypeParameters }} struct {
		{{- if $testify }}
		m      *mock.Mock
		assert *assert.Assertions
		{{- else }}
		m *mock.Mock
		t *testing.T
		{{- end }}
	}
{{ range .Methods }}
	{{ printf "%v%v" .Func $interface.TypeParameters | printf $interface.MaxFuncLenFmt }} func({{ .Parameters }}){{ if .Results }} {{ .Results }}{{ end }}
{{- end }}
{{- end }}
)
{{ $import := .PkgImport -}}
{{- range $index, $interface := .Interfaces }}
{{- if ge $index 1 }}
{{ end }}
func {{ .Constructor }}{{ .TypeParameters }}(t {{ if $testify }}assert.TestingT{{ else }}*testing.T{{ end }}) *{{ .Name }}{{ .TypeParameterVars }} {
	var (
		{{ .Var | printf ($import.AliasOrPkgName | .ConstructorFmt) }} = &{{ .Name }}{{ .TypeParameterVars }}{mock.New(), {{ if $testify }}assert.New(t){{ else }}t{{ end }}}
		_ {{ $import.AliasOrPkgName }}.{{ .Name }}{{ .TypeParameterVars }} = m
	)
	return {{ .Var }}
}
{{ range $index, $method := .Methods }}
{{- if ge $index 1 }}
{{ end }}
func ({{ $interface.Var }} *{{ $interface.Name }}{{ $interface.TypeParameterVars }}) {{ .Add }}(f {{ .Func }}{{ $interface.TypeParameterVars }}) {
	{{ $interface.Var }}.m.Add("{{ .Name }}", f)
}

func ({{ $interface.Var }} *{{ $interface.Name }}{{ $interface.TypeParameterVars }}) {{ .Set }}(f {{ .Func }}{{ $interface.TypeParameterVars }}) {
	{{ $interface.Var }}.m.Set("{{ .Name }}", f)
}

func ({{ .InterfaceVar }} *{{ $interface.Name }}{{ $interface.TypeParameterVars }}) {{ .Name }}({{ .Parameters }}){{ if .Results }} {{ .Results }}{{ end }} {
	if {{ .FuncVar }} := {{ .InterfaceVar }}.m.Next("{{ .Name }}"); {{ .FuncVar }} != nil {
		{{ if .Results }}return {{ end }}{{ .FuncVar }}.({{ .Func }}{{ $interface.TypeParameterVars }})({{ .ParameterVars }})
{{- if not .Results }}
		return
{{- end }}
	}
	{{- if $testify }}
	{{ .InterfaceVar }}.assert.Fail("unexpected {{ .Name }} call")
	{{- else }}
	{{ .InterfaceVar }}.t.Helper()
	{{ .InterfaceVar }}.t.Error("unexpected {{ .Name }} call")
	{{- end }}
{{- if .ZeroResults }}
	return {{ .ZeroResults }}
{{- end }}
}
{{- end }}

func ({{ $interface.Var }} *{{ $interface.Name }}{{ $interface.TypeParameterVars }}) {{ .HasMore }}() bool {
	return {{ $interface.Var }}.m.HasMore()
}
{{- end }}
